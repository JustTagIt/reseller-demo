(window.webpackJsonpresellerdemov2=window.webpackJsonpresellerdemov2||[]).push([[0],{164:function(e,t,a){e.exports=a(401)},199:function(e,t){},220:function(e,t){},222:function(e,t){},285:function(e,t){},332:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=332},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(158),l=a.n(c),s=a(13),o=a(25),i=a(12),m=Object(i.a)({basename:"/",forceRefresh:!1,keyLength:6}),d=(a(163),a(17)),u=a(3),p=a(30),b=function(e){var t=e.title,a=e.secondLine;return r.a.createElement("div",{className:"card-header main-bg d-flex justify-content-between"},r.a.createElement("h5",{className:"card-title"},t),a?a():null)},f=function(){return r.a.createElement("div",{className:"card-footer d-flex justify-content-around",id:"FooterIcons"},r.a.createElement(p.e,null),r.a.createElement(p.d,null),r.a.createElement(p.b,null),r.a.createElement(p.c,null))};p.a;var E=a(7),v=a.n(E),N=a(22),y={reseller:"udtesting",token:"1txobsttv63p5wrfvnpjp0wfuava5cov",stripeKey:"pk_test_bERlHfGH5lT9rTIhKPg74H0o",stripeKeyLiveDomain:"pk_live_HAPE6Nv5bfhCJYKe6Nfaaj4P"},h=a(89),g=a.n(h);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w="https://unstoppabledomains.com/api/v1/resellers",x=function(e){var t=Object(n.useState)("reseller-test-".concat(y.reseller,"-").concat(Math.floor(502562*Math.random()),".zil")),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),m=i[0],d=i[1],p=Object(n.useState)(!1),E=Object(u.a)(p,2),h=E[0],O=E[1],x=Object(n.useState)(JSON.parse(localStorage.getItem("own_domain"))),S=Object(u.a)(x,2),k=S[0],D=S[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),M=P[0],L=P[1];Object(n.useEffect)((function(){if(k&&!k.mined){var e=k.config,t=e.orderNumber,a=e.email,n=setInterval((function(){return r.apply(this,arguments)}),5e3);return function(){return clearInterval(n)}}function r(){return(r=Object(N.a)(v.a.mark((function e(){var n,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://unstoppabledomains.com/api/v1/resellers/".concat(y.reseller,"/users/").concat(a,"/orders/").concat(t),e.prev=1,e.next=4,fetch(n,{method:"GET",headers:{Authentication:"Bearer ".concat(y.token),"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,200===r.status&&(l="MINED"===c.order.items[0].blockchain.status,L(l),D(j({},k,{mined:l})),localStorage.setItem("own_domain",JSON.stringify(j({},k,{mined:l})))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}}),[M,k]);var C="0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf",A=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(null),a=/[.]\w{3}$/.test(c)?c:"".concat(c,".zil"),O(!0),e.next=7,r="".concat(w,"/").concat(y.reseller,"/domains/").concat(a),fetch(r,{headers:{Authentication:"Bearer ".concat(y.token)}}).then((function(e){return e.json()})).then((function(e){return j({},e,{testNameSpace:/[reseller-test-udtesting-]+\d+[.zil]+/.test(e.domain.name)})}));case 7:n=e.sent,d(j({},n)),O(!1);case 10:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){if(null!=m.errors)return r.a.createElement("div",{className:"card",id:"big"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Error")),r.a.createElement("div",{className:"card-body"},m.errors.map((function(e,t){return r.a.createElement("p",{className:"card-text",key:t},e.message)}))));var t,a=m.domain;return console.log(m),a&&a.resolve?r.a.createElement("div",{className:"card",id:"big"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},a.name," is already taken ")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-subtitle"},"It resolves to:"),(t=a.resolve.addresses,Object.keys(t).map((function(e,a){return r.a.createElement("p",{className:"card-text",key:a},e," => ",t[e])}))))):a&&!a.reselling?r.a.createElement("div",{className:"card",id:"big"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},a.name)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-subtitle"},"Domain is not available"))):(console.log({state:j({},m,{owner:C})}),r.a.createElement("div",{className:"card",id:"big"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("h5",{className:"card-title"},a.name),r.a.createElement("h6",{className:"card-subtitle text-success"},"Domain is available"),r.a.createElement("h6",{className:"card-subtitle mt-1 text-danger"},m.testNameSpace?null:"THIS IS A LIVE DOMAIN, YOU WILL BE CHARGED AT THE END")),r.a.createElement("div",{className:"col-3 d-flex justify-content-end"},r.a.createElement("h5",{className:"card-title"},"$ ",a.reselling&&a.reselling.price)))),r.a.createElement("div",{className:"card-body d-flex justify-content-md-center"},r.a.createElement(s.b,{to:{pathname:"/email",state:j({},e.location.state,{},m,{owner:C})},style:{width:"50%"}},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-md",style:{width:"100%"}},"BUY")))))},z=function(){return r.a.createElement("button",{className:"btn btn-md btn-primary",onClick:function(t){return e.history.push("/send")}},"Send")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"45rem",minHeight:"40rem"}},r.a.createElement(b,{title:"Buy .ZIL domain",secondLine:z}),r.a.createElement("div",{className:"card-body d-flex flex-column justify-content-between"},r.a.createElement("div",{className:"card-fluid"},r.a.createElement("form",{className:"form-inline ",onSubmit:A},r.a.createElement("div",{className:"form-group col-sm-12",id:"my-form"},r.a.createElement("div",{className:"container-fluid d-flex justify-content-md-center"},r.a.createElement("input",{type:"text",placeholder:"Choose your domain name, wisely",className:"form-control-lg col-11",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg m-0 ml-1"},"Search")),r.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted"},"*For this demo use this domain namespace ",r.a.createElement("code",null,"reseller-test-udtesting-[random number].zil"))))),h?r.a.createElement("div",{className:"loader"},"Searching..."):null,m?T():null,k?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},k.domains[0].name),r.a.createElement("p",{className:"card-text"},"Blockchain status: ",k.mined?"MINED":"MINING..."," "),k.mined?r.a.createElement("button",{className:"btn btn-primary btn-md",onClick:function(){return D(null),localStorage.clear()}},"Forget about it"):r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},"50%")))):r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("h4",{className:"card-subtitle"},"Learn more about .ZIL domain"))),r.a.createElement(f,null)))))),r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5 mb-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"arrow-bounce bigger"},r.a.createElement("img",{width:"40",height:"40",alt:"",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMyIDMyIiBoZWlnaHQ9IjMycHgiIGlkPSLQodC70L7QuV8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMycHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxwYXRoIGQ9Ik0yNC4yODUsMTEuMjg0TDE2LDE5LjU3MWwtOC4yODUtOC4yODhjLTAuMzk1LTAuMzk1LTEuMDM0LTAuMzk1LTEuNDI5LDAgIGMtMC4zOTQsMC4zOTUtMC4zOTQsMS4wMzUsMCwxLjQzbDguOTk5LDkuMDAybDAsMGwwLDBjMC4zOTQsMC4zOTUsMS4wMzQsMC4zOTUsMS40MjgsMGw4Ljk5OS05LjAwMiAgYzAuMzk0LTAuMzk1LDAuMzk0LTEuMDM2LDAtMS40MzFDMjUuMzE5LDEwLjg4OSwyNC42NzksMTAuODg5LDI0LjI4NSwxMS4yODR6IiBmaWxsPSIjMTIxMzEzIiBpZD0iRXhwYW5kX01vcmUiLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48L3N2Zz4="})))),r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"40rem",minHeight:"40rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Hints"),r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"ZIL or ETH address required")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"You need to have a ZIL or ETH wallet in your list to  buy a domain"))),r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Reseller ID")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Get your id and API token from UD team"),r.a.createElement("p",{className:"card-text"},"You will need to use your API ID instead of hardcoded udtesting in examples above. You can the API ID and token from UD integration team"))),r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Base URL")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},w))),r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"API Calls")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("p",{className:"card-text"},"/resellers/",r.a.createElement("code",null,"reseller-id"),"/domains",r.a.createElement("code",null,"/domain-name"),".zil")),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,"Method: GET"),r.a.createElement("li",null,"Response:",r.a.createElement(g.a,{src:{domain:{name:"bogdantest.zil",owner:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf",reselling:null,auction:null}},collapsed:!0,displayDataTypes:!1,indentWidth:1,collapseStringsAfterLength:10,displayObjectSize:!1})),r.a.createElement("li",null,"Errors:",r.a.createElement(g.a,{src:{errors:[{code:"DOMAIN_NAME_INVALID",message:"Domain name is invalid"}]},collapsed:!0,displayDataTypes:!1,indentWidth:1,collapseStringsAfterLength:20,displayObjectSize:!1}))))))))))))))};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){var t=Object(n.useState)("example@example.com"),a=Object(u.a)(t,2),c=a[0],l=a[1];console.log(e);var s=function(e){return!/.+@.+\..+/.test(e)},i=Object(n.useState)(s("")),m=Object(u.a)(i,2),d=m[0],p=m[1],E=function(){if(d)return e.history.push({pathname:"/checkout",state:k({},e.location.state,{email:c})})};return e.location.state?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"45rem",minHeight:"40rem"}},r.a.createElement(b,{title:"Enter email"}),r.a.createElement("div",{className:"card-body",id:"big"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-9"},r.a.createElement("h5",{className:"card-title"},e.location.state.domain.name)),r.a.createElement("div",{className:"col-3 d-flex justify-content-end"},r.a.createElement("h5",{className:"card-title"},"$ ",e.location.state.domain.reselling.price))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form-inline justify-content-md-center",onSubmit:E},r.a.createElement("p",{className:"card-text"},"Please provide an email address"),r.a.createElement("input",{type:"text",placeholder:"Email",className:"form-control-lg col-11",value:c,onChange:function(e){l(e.target.value),p(!s(e.target.value))}})))),r.a.createElement("div",{className:"d-flex justify-content-md-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary col-6",onClick:E,disabled:!d,id:"margin-top"},"Next"))),r.a.createElement(f,null))))))):r.a.createElement(o.a,{to:"/"})},I=a(36);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var M=Object(I.injectStripe)((function(e){var t=Object(n.useState)("Sam"),a=Object(u.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),i=o[0],m=o[1],p=Object(n.useState)(),b=Object(u.a)(p,2),f=b[0],E=b[1],v=function(t){t.preventDefault(),e.stripe?(m(!0),e.stripe.createToken({name:c}).then((function(t){console.log("[token]",t),t.error?(E(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.error)),m(!1)):(E(null),e.funcs._handleUDPayment(t,m))}))):console.log("Stripe.js hasn't loaded yet.")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"card-title"},"Pay with credit card"),e.test?r.a.createElement("p",{className:"card-text"},"Use any future date and this card number for tests ",r.a.createElement("code",null,"4242 4242 4242 4242")):r.a.createElement("p",{className:"card-text"},"You are trying to buy a domain outside of our test namespace. Use real card info below and be ready to get charged"),r.a.createElement("form",{onSubmit:v,className:"form-group mt-3 p3 d-flex flex-column align-items-center"},r.a.createElement("div",{className:"col-8 d-flex justify-content-md-center flex-column"},r.a.createElement("label",null,"Name",r.a.createElement("input",{type:"text",className:"input-group my-1 p-2 border border-dark shadow",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement("label",null,"Card details",r.a.createElement(I.CardElement,{className:"p-2 border border-dark"})),r.a.createElement("button",{className:"btn btn-primary border border-dark shadow",disabled:i,onClick:v},"Pay"),i?r.a.createElement("div",{className:"loader"},"Searching..."):null)),f?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Something went wrong")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},f.message))):null)})),L=a(161),C=a.n(L);a(179);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=function(e){var t=e.location.state,a=Object(n.useState)(),c=Object(u.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),m=Object(u.a)(i,2),d=m[0],p=m[1],E=Object(n.useState)(!1),h=Object(u.a)(E,2),g=h[0],O=h[1],j=Object(n.useState)("none"),w=Object(u.a)(j,2),x=w[0],S=w[1],k=Object(n.useState)(""),D=Object(u.a)(k,2),P=D[0],L=D[1],A=Object(n.useState)(!1),z=Object(u.a)(A,2),H=z[0],U=z[1],Z=Object(n.useState)(""),B=Object(u.a)(Z,2),F=B[0],_=B[1];if(!t)return r.a.createElement(o.a,{to:"/"});console.log("state = ",t);var G=function(e){return s(e),e.errors?O(e.errors):p(!0),e},J=function(e,a){var n=e.token;console.log("_handleUPPayment ",{token:n});var r,c,l=t.domain.name,s=t.email,o=t.owner,i="https://unstoppabledomains.com/api/v1/resellers/".concat(y.reseller,"/users/").concat(s,"/orders"),m={order:{payment:{type:"stripe",tokenId:n.id},domains:[{name:l,owner:""!==F?F:o,resolution:{crypto:{ZIL:{address:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf"},ETH:{address:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf"}}}}]}};console.log(i),console.log(m),(r=i,c=m,fetch(r,{method:"POST",body:JSON.stringify(c),headers:{Authentication:"Bearer ".concat(y.token),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(G)).then((function(e){e&&!e.errors&&function(e){localStorage.setItem("own_domain",JSON.stringify(e))}(T({},m.order,{config:{email:s,orderNumber:e.order.orderNumber}})),a(!1)}))},R=function(){var e=Object(N.a)(v.a.mark((function e(){var a,n,r,c,l,s,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.domain.name,n=t.email,r=t.owner,c="https://unstoppabledomains.com/api/v1/resellers/".concat(y.reseller,"/users/").concat(n,"/orders"),l={order:{payment:{type:"coinbase"},domains:[{name:a,owner:""!==F?F:r,resolution:T({},{crypto:{ZIL:{address:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf"},ETH:{address:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf"}}})}]}},e.next=5,fetch(c,{method:"POST",headers:{Authentication:"Bearer ".concat(y.token),"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()}));case 5:s=e.sent,console.log(s),L(s.order.payment.tokenId),(o=document.querySelector(".coinbase-button"))&&o.click();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){return""===P?(R(),r.a.createElement("div",{className:"loader"},"Searching...")):(console.log(P),r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("p",{className:"card-title"},"Coinbase payment flow")),r.a.createElement("div",{className:"card-body"},r.a.createElement(C.a,{className:"coinbase-button",styled:!1,chargeId:P,onChargeSuccess:function(e){return console.log("charge success ",e)},onChargeFailure:function(e){return console.log("charge failure ",e)}}))))},Y=function(){var a=function(){return r.a.createElement("div",{className:"d-flex align-content-center"},r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:function(){return S("stripe")}},"Stripe"),r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:function(){return S("coinbase")}},"Coinbase"))};return"coinbase"===x?r.a.createElement(r.a.Fragment,null,a(),W()):"stripe"===x?r.a.createElement(r.a.Fragment,null,a(),function(){var a=e.location.state.testNameSpace;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("p",{className:"card-title"},"Stripe Payment flow")),r.a.createElement("div",{className:"card-body"},r.a.createElement(I.StripeProvider,{apiKey:a?y.stripeKey:y.stripeKeyLiveDomain},r.a.createElement(I.Elements,null,r.a.createElement(M,{domain:t.domain,funcs:{_handleUDPayment:J},test:a}))))),g?r.a.createElement("div",{className:"card",id:"list-field"},r.a.createElement("div",{className:"card-header"},r.a.createElement("p",{className:"card-title"},"Something went wrong")),r.a.createElement("div",{className:"card-body"},g.map((function(e){return r.a.createElement("p",{className:"card-text text-danger",key:e.code},e.message)})))):null)}()):!1===t.testNameSpace?r.a.createElement(r.a.Fragment,null,H?a():null,r.a.createElement("div",{className:"d-flex align-content-center"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("p",{className:"card-title"},"Configutration")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Because you are buying a live domain UD need to know your wallet address you wish to be referenced with ",t.domain.name),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Owner address"),H&&""!==F?r.a.createElement("h4",{className:"card-title"},F):r.a.createElement("input",{type:"text",className:"form-control",value:F,onChange:function(e){return _(e.target.value)}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"Can be either eth or zil address")),H?r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block",onClick:function(){U(!1)}},"Edit "):r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(){""!==F&&U(!0)}},"Submit")))))):a()};return d?(p(!1),e.history.push({pathname:"/finish",state:T({},e.location.state,{},l)})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"45rem",minHeight:"40rem"}},r.a.createElement(b,{title:"Payment flow"}),r.a.createElement("div",{className:"card-body"},Y()),r.a.createElement(f,null)))))))},H=function(e){var t=e.location.state,a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],i=c[1];Object(n.useEffect)((function(){if(t){var e=t.order.orderNumber,a=t.email,n=setInterval((function(){return r.apply(this,arguments)}),5e3);return function(){return clearInterval(n)}}function r(){return(r=Object(N.a)(v.a.mark((function t(){var n,r,c,s,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==l){t.next=2;break}return t.abrupt("return");case 2:return n="https://unstoppabledomains.com/api/v1/resellers/".concat(y.reseller,"/users/").concat(a,"/orders/").concat(e),t.next=5,fetch(n,{method:"GET",headers:{Authentication:"Bearer ".concat(y.token),"Content-Type":"application/json"}});case 5:return r=t.sent,t.next=8,r.json();case 8:c=t.sent,200===r.status&&(s="MINED"===c.order.items[0].blockchain.status,i(s),(o=JSON.parse(localStorage.getItem("own_domain"))).mined=s,localStorage.setItem("own_domain",JSON.stringify(o)));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),[l,i,t]);var m=function(){return r.a.createElement("div",{className:"card d-flex align-items-md-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title"},"Order status:"),r.a.createElement("p",{className:"card-text"},"Blockchain transaction requires some time. You can go back to homepage the transaction is not going to be lost."),r.a.createElement("div",{className:"loader"},"Searching...")))};return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"45rem",minHeight:"40rem"}},r.a.createElement(b,{title:"Status Check"}),r.a.createElement("div",{className:"card-body",id:"list-field"},l?r.a.createElement("div",{className:"card d-flex align-items-md-center"},r.a.createElement("img",{src:"https://www.freeiconspng.com/uploads/youtube-like-png-14.png",className:"card-img-top col-6",alt:"Ok"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},"Congratulations!"),r.a.createElement("h5",{className:"card-subtitle text-center"},"You own"),t.order.items.map((function(e){return r.a.createElement("span",{key:e.name},e.name)})))):m()),r.a.createElement("div",{className:"row justify-content-md-center align-items-end"},r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{className:"btn btn-success btn-lg"},"Homepage"))),r.a.createElement(f,null))))))):r.a.createElement(o.a,{to:"/"})},U=a(162);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=new(a.n(U).a),_=function(e){var t=Object(n.useState)("BTC"),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),m=i[0],d=i[1],p=Object(n.useState)(""),E=Object(u.a)(p,2),h=E[0],g=E[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),w=j[0],x=j[1],S=Object(n.useState)(),k=Object(u.a)(S,2),D=k[0],I=k[1];Object(n.useEffect)((function(){return C(m),function(){}}),[m,c]);var P=function(){return r.a.createElement("button",{className:"btn btn-md btn-primary",onClick:function(t){return e.history.push("/")}},"Back")},M=function(e){e.preventDefault(),C(m),console.log("Sending money.... Pff, gone!")},L=function(e){return e.indexOf(".")>0&&/^((?![0-9]+$)(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}\.)*(?![0-9]+$)(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$/.test(e)},C=function(){var e=Object(N.a)(v.a.mark((function e(t){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||g(""),!L(t)){e.next=22;break}return e.next=4,F.resolve(t);case 4:if(a=e.sent,console.log({resolution:a}),!a.meta.owner){e.next=13;break}console.log({selectedTicker:c}),n=a.addresses[c],console.log(n||"NOT_FOUND"),g(n||"NOT_FOUND"),e.next=20;break;case 13:return e.next=15,T();case 15:r=e.sent,console.log("canBuy = ",r),r&&r.domain&&r.domain.reselling?x(r):x(!1),r&&r.errors?I(r.errors):I(null),g("NO_OWNER");case 20:e.next=23;break;case 22:g("INVALID_DOMAIN");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.target.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e="".concat("https://unstoppabledomains.com/api/v1/resellers","/").concat(y.reseller,"/domains/").concat(m);return fetch(e,{headers:{Authentication:"Bearer ".concat(y.token)}}).then((function(e){return e.json()})).then((function(e){return console.log("answer = ",e),e&&e.domain?B({},e,{testNameSpace:/[reseller-test-udtesting-]+\d+[.zil]+/.test(e.domain.name)}):e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-md-center flex-nowrap mt-5"},r.a.createElement("div",{className:"col-lg-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card",style:{width:"45rem",minHeight:"40rem"}},r.a.createElement(b,{title:"Wallets",secondLine:P}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"row justify-content-between p-3"},r.a.createElement("button",{type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Choose the currency"),r.a.createElement("div",{className:"dropdown-menu"},["BTC","ETH","ZIL","LLC","SUV"].map((function(e,t){return r.a.createElement("button",{className:"dropdown-item",key:t,onClick:function(t){l(e)}},e)}))),r.a.createElement("h1",{className:""},c))),r.a.createElement("form",{onSubmit:M},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"reciever",placeholder:"To",onBlur:A,value:m,onChange:function(e){return d(e.target.value)}}),h?"NOT_FOUND"===h?r.a.createElement("small",{className:"text-danger"},"No ",c," address is registered under this domain"):"NO_OWNER"===h?r.a.createElement(r.a.Fragment,null,D?D.map((function(e,t){return r.a.createElement("small",{key:t,className:"text-danger"},e.message)})):r.a.createElement("small",{className:"text-warning"},"Domain is not taken",w?r.a.createElement(s.b,{to:{pathname:"/email",state:B({},w,{owner:"0xa823a39d2d5d2b981a10ca8f0516e6eaff78bdcf"})}},r.a.createElement("button",{className:"linklike"},"(buy this domain)")):" and it is unavailable at the moment")):"INVALID_DOMAIN"===h?r.a.createElement("small",{className:"text-danger"},"Domain is invalid or unavailable"):r.a.createElement("small",{className:"text-success"},"Resolved Address: ",h):r.a.createElement("small",null,"*Specify correct address or .zil domain")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"$")),r.a.createElement("input",{type:"number",className:"form-control",id:"reciever",placeholder:"Amount"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{rows:"6",className:"form-control",id:"reciever",placeholder:"Message (Optional)"})),r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Send")))))),r.a.createElement(f,null)))))))},G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container-fluid",id:"tall"},r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("h1",null,"Reseller buy demo")),r.a.createElement(s.a,{history:m,basename:"/"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:x}),r.a.createElement(o.b,{path:"/reseller-demo/",exact:!0,component:x}),r.a.createElement(o.b,{path:"/email",exact:!0,component:D}),r.a.createElement(o.b,{path:"/checkout",exact:!0,component:z}),r.a.createElement(o.b,{path:"/finish",exact:!0,component:H}),r.a.createElement(o.b,{path:"/send",exact:!0,component:_})))))};a(399),a(400);l.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.d9434bf3.chunk.js.map